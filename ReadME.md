# Multicore- und GPU-Computing: Projekt WS 2022-23

Before to use:
- install Intel C++ Compiler 2023 and Ubuntu 22.04 LTS with WSL
- Projects use ISO C++ 20 Standart (std::format)
- install OpenCV (vc15)
- set a variable with command ``setx OpenCV_DIR {path_to}\opencv\build\x64\vc15``
    - update {path_to} with your OpenCV installation path
    - note: undo with ``REG delete HKCU\Environment /F /V OpenCV_DIR``

For new projets:
- please follow this setup with $(OpenCV_DIR) : https://docs.opencv.org/4.x/dd/d6e/tutorial_windows_visual_studio_opencv.html
    - note: Additional Depencies, only add "opencv_world460d.lib", if you use vc15 pre-build and OpenCV 4.60.
    - all options: floting point model to strict (OpenCV use NaN and Infinity and generate a warning in default mode: fast)
    - Update project properties for OpenMp support
        - https://learn.microsoft.com/fr-fr/cpp/build/reference/openmp-enable-openmp-2-0-support?view=msvc-170
        - like "g++ -o sobel sobel.cpp -fopenmp"
- update gitignore to ignore projetc folders .vs and x64
    - Example for project Seq-Sobel: /Seq-Sobel/x64/ and /Seq-Sobel/.vs/

Important:
- Images are stored the images directory.
- Every images generated by sobel should end with "_sobel.jpg", to be ignored by gitignore
- These Projects use Intel C++ Compiler 2023 for SIMD and GPU-offloading support.
    - https://www.intel.com/content/www/us/en/developer/articles/tool/oneapi-standalone-components.html#dpcpp-cpp

- for offloading the GPU, use of WSL g++:
    - https://learn.microsoft.com/en-us/cpp/build/walkthrough-build-debug-wsl2?view=msvc-170
    - #pragma target
    - need to find the VS version for: g++ -o sobel sobel.cpp -fopenmp -foffload=nvptx-none -fcf-protection=none  or find a way to use OpenCV in WSL and use the command directly